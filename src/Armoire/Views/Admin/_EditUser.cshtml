@using Armoire.Infrastructure
@using Armoire.Common
@model UserVM
@using (Html.BeginForm("SaveUser", "Name", FormMethod.Post, new { @class = "ajaxForm form-horizontal", @id = "editForm" }))
{
@Html.HiddenFor(m => m.Id)
<div class="form-group">
    <label class="control-label col-sm-4">First Name</label>
    <div class="col-sm-8">
        @Html.TextBoxFor(m => m.FirstName, new { maxlength=25})
        <br />
        <div class="error">@Html.ValidationMessageFor(m => m.FirstName)</div>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-4">Last Name</label>
    <div class="col-sm-8">
        @Html.TextBoxFor(m => m.LastName, new { maxlength=25})
        <br />
        <div class="error">@Html.ValidationMessageFor(m => m.LastName)</div>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-4">Username</label>
    <div class="col-sm-8">
        @Html.TextBoxFor(m => m.Username, new { maxlength=25})
        <br />
        <div class="error">@Html.ValidationMessageFor(m => m.Username)</div>
    </div>
</div>
if (Model.Id == 0)
{
<div class="form-group">
    <label class="control-label col-sm-4">Initial Password</label>
    <div class="col-sm-8">
        @Html.PasswordFor(m => m.InitialPassword, new { maxlength=30})
        <br />
        <div class="error">@Html.ValidationMessageFor(m => m.InitialPassword)</div>
    </div>
</div>
}
<div class="form-group">
    <label class="control-label col-sm-4">Phone</label>
    <div class="col-sm-8">
        @Html.TextBoxFor(m => m.Phone, new { maxlength=20})
        <br />
        <div class="error">@Html.ValidationMessageFor(m => m.Phone)</div>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-4">Email</label>
    <div class="col-sm-8">
        @Html.TextBoxFor(m => m.Email, new {style = "width:340px;", maxlength=150})
        <br />
        <div class="error">@Html.ValidationMessageFor(m => m.Email)</div>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-4">Roles</label>
    <div class="col-sm-8">
        @for (int i = 0; i < Model.RoleSelection.Count; i++)
            {
        @Html.HiddenFor(x => x.RoleSelection[i].Role)
        @Html.CheckBoxFor(x => x.RoleSelection[i].Selected)
        <a href="#" class="userrole" rel="popover" data-trigger="hover" data-content="@Model.RoleSelection[i].Role.Descriptor(AppConstants.DESCRIPTOR_Long)" data-original-title="@Model.RoleSelection[i].Role.Description()" data-placement="top">@Model.RoleSelection[i].Role.Description()</a>
        <br />
            }
        <div class="error">@Html.ValidationMessageFor(m => m.RoleInformation)</div>
    </div>
</div>
}